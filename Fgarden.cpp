                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    #include<bits/stdc++.h>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    #define ll long long
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    using namespace std;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const ll maxn=3e6+1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ll a[maxn];
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    int main()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ios_base::sync_with_stdio(false);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        cin.tie(nullptr);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        cout.tie(nullptr);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        cout.tie(nullptr);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        freopen("Fgarden.inp","r",stdin);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        freopen("Fgarden.out","w",stdout);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ll t,i,n,j,ans=LLONG_MIN;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        deque<ll> mx,mn;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        cin>>n>>t;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        for (i=1;i<=n;i++) cin>>a[i];
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        //min max doan tinh tien
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        j=1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        for (i=1;i<=n;i++)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            while (!mx.empty()&&a[mx.back()]<=a[i]) mx.pop_back();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            while (!mn.empty()&&a[mn.back()]>=a[i]) mn.pop_back();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            mx.push_back(i);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            mn.push_back(i);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            while (j<=i&&a[mx.front()]-a[mn.front()]>t)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                j++;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                while (!mx.empty()&&mx.front()<j) mx.pop_front();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                while (!mn.empty()&&mn.front()<j) mn.pop_front();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if(!mx.empty()&&!mn.empty()&&a[mx.front()]-a[mn.front()]<=t) ans = max(ans,i-j+1);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        cout<<ans<<endl;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
